var xpos=80;
var ypos=350;
var enemyxpos=0;
var enemyypos=-120;
var enemyspeed=3;

(function () {
	var bg = document.createElement('div');
	var body = document.getElementsByTagName('body')[0];
	body.appendChild(bg);

	bg.style.position = 'fixed';
	bg.style.top = '0px';
	bg.style.left = '0px';
	bg.style.margin = '10px';
	bg.style.paddingTop = '10px';
	bg.style.width = '300px';
	bg.style.height = '500px';
	bg.style.zIndex = 10000;
	bg.style.opacity = 1;
	bg.style.color = 'white';
	bg.style.backgroundColor = 'black';
	bg.style.border = '0px solid white';
	bg.style.textAlign = 'center';
	bg.id = 'bg';
	bg.style.display = 'block';
	bg.innerText = '';

}());

(function () {
	var you = document.createElement('div');
	var body = document.getElementsByTagName('body')[0];
	body.appendChild(you);

	you.style.position = 'fixed';
	you.style.top = ''+ypos+'px';
	you.style.left = ''+xpos+'px';
	you.style.margin = '10px';
	you.style.paddingTop = '10px';
	you.style.width = '70px';
	you.style.height = '120px';
	you.style.zIndex = 10000;
	you.style.opacity = 1;
	you.style.color = 'blue';
	you.style.backgroundColor = 'blue';
	you.style.border = '0px solid white';
	you.style.textAlign = 'center';
	you.id = 'you';
	you.style.display = 'block';
	you.innerText = '';
        function moveleft(){
            xpos=xpos-10;
            you.style.left = ''+xpos+'px';
        }
	function moveright(){
            xpos=xpos+10;
            you.style.left = ''+xpos+'px';
        }
	function moveup(){
            ypos=ypos-10;
            you.style.top = ''+ypos+'px';
        }
	function movedown(){
            ypos=ypos+10;
            you.style.top = ''+ypos+'px';
        }
        window.addEventListener("keydown",function(event){
            if(event.key=="ArrowLeft"){
                moveleft();
            }
        });
	window.addEventListener("keydown",function(event){
            if(event.key=="ArrowRight"){
                moveright();
            }
        });
	window.addEventListener("keydown",function(event){
            if(event.key=="ArrowUp"){
                moveup();
            }
        });
	window.addEventListener("keydown",function(event){
            if(event.key=="ArrowDown"){
                movedown();
            }
        });
}());

function makeenemy(){
(function () {
	var enemy = document.createElement('div');
	var body = document.getElementsByTagName('body')[0];
	body.appendChild(enemy);
        enemyxpos=Math.floor(Math.random()*(230-0+1)+0);
        enemyypos=-120;
	enemy.style.position = 'fixed';
	enemy.style.top = ''+enemyypos+'px';
	enemy.style.left = ''+enemyxpos+'px';
	enemy.style.margin = '10px';
	enemy.style.paddingTop = '10px';
	enemy.style.width = '70px';
	enemy.style.height = '120px';
	enemy.style.zIndex = 10000;
	enemy.style.opacity = 1;
	enemy.style.color = 'red';
	enemy.style.backgroundColor = 'red';
	enemy.style.border = '0px solid white';
	enemy.style.textAlign = 'center';
	enemy.id = 'enemy';
	enemy.style.display = 'block';
	enemy.innerText = '';
	function lose(){
	    function elementsOverlap(el1, el2) {
                const domRect1 = el1.getBoundingClientRect();
                const domRect2 = el2.getBoundingClientRect();

                return !(
                    domRect1.top > domRect2.bottom ||
                    domRect1.right < domRect2.left ||
                    domRect1.bottom < domRect2.top ||
                    domRect1.left > domRect2.right
                );
            }

            const el1 = document.getElementById('box1');
            const el2 = document.getElementById('box2');
            const el3 = document.getElementById('box3');

            console.log(elementsOverlap(el1, el2));
	}
	function enemymove(){
	    enemyypos=enemyypos+enemyspeed;
	    enemy.style.top = ''+enemyypos+'px';
	    if (enemyypos>380){
	        enemy.parentNode.removeChild(enemy);
		makeenemy();
	    }
	}
	setInterval(enemymove,50);
}());
}
makeenemy();
