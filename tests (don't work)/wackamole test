var x=0;
var points=0;
var cointcount=0;

(function () {
	var score = document.createElement('div');
	var body = document.getElementsByTagName('body')[0];
	body.appendChild(score);

	score.style.position = 'fixed';
	score.style.top = '350px';
	score.style.left = '0px';
	score.style.margin = '10px';
	score.style.paddingTop = '0px';
	score.style.width = '120px';
	score.style.height = '30px';
	score.style.zIndex = 10000;
	score.style.opacity = 1;
	score.style.color = 'black';
	score.style.backgroundColor = 'white';
	score.style.border = '5px solid black';
	score.style.textAlign = 'center';
	score.id = 'score';
	score.style.display = 'block';
	score.innerText = 'score: '+points+'';
}());

(function () {
	var elem = document.createElement('div');
	var body = document.getElementsByTagName('body')[0];
	body.appendChild(elem);

	elem.style.position = 'fixed';
	elem.style.top = '0px';
	elem.style.left = '0px';
	elem.style.margin = '10px';
	elem.style.paddingTop = '10px';
	elem.style.width = '340px';
	elem.style.height = '340px';
	elem.style.zIndex = 10000;
	elem.style.opacity = 1;
	elem.style.color = 'green';
	elem.style.backgroundColor = 'green';
	elem.style.border = '0px solid white';
	elem.style.textAlign = 'center';
	elem.id = 'myTimer';
	elem.style.display = 'block';
}());

function mole(x,y){
cointcount=cointcount+1;
(function () {
	var elem = document.createElement('div');
	var body = document.getElementsByTagName('body')[0];
	body.appendChild(elem);

	elem.style.position = 'fixed';
	elem.style.top = ''+y+'px';
	elem.style.left = ''+x+'px';
	elem.style.margin = '10px';
	elem.style.paddingTop = '0px';
	elem.style.width = '40px';
	elem.style.height = '40px';
	elem.style.zIndex = 10000;
	elem.style.opacity = 1;
	elem.style.color = 'yellow';
	elem.style.backgroundColor = 'yellow';
	elem.style.border = '0px solid white';
	elem.style.textAlign = 'center';
	elem.style.cursor = 'pointer';
	elem.id = 'coin'+x+'';
	elem.style.display = 'block';
	document.getElementById('coin'+x+'').addEventListener('click', function() {
		points=points+1;
		coincount=coincount-1;
		elem.remove();
		score.innerText = 'score: '+points+'';
	});
	x=x+1;
}());
}
var cointime=3000;

function makecoin(){
    cointime=cointime-500;
    var rx=Math.floor(Math.random()*(300-0+1)+0);
    var ry=Math.floor(Math.random()*(300-0+1)+0);
    mole(rx,ry);
}

function lose(){
    if (cointcount>3){
        alert("game over");
        window.reload(1);
    }
}

setInterval(makecoin,cointime);
setInterval(lose,100);
