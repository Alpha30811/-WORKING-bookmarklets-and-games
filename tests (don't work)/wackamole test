var x=0;
var points=0;
var timer=31;
var timermax=31;

(function () {
	var score = document.createElement('div');
	var body = document.getElementsByTagName('body')[0];
	body.appendChild(score);

	score.style.position = 'fixed';
	score.style.top = '350px';
	score.style.left = '0px';
	score.style.margin = '10px';
	score.style.paddingTop = '0px';
	score.style.width = '120px';
	score.style.height = '30px';
	score.style.zIndex = 10000;
	score.style.opacity = 1;
	score.style.color = 'black';
	score.style.backgroundColor = 'white';
	score.style.border = '5px solid black';
	score.style.textAlign = 'center';
	score.id = 'score';
	score.style.display = 'block';
	score.innerText = 'score: '+points+'';
}());

(function () {
	var elem = document.createElement('div');
	var body = document.getElementsByTagName('body')[0];
	body.appendChild(elem);

	elem.style.position = 'fixed';
	elem.style.top = '0px';
	elem.style.left = '0px';
	elem.style.margin = '10px';
	elem.style.paddingTop = '10px';
	elem.style.width = '340px';
	elem.style.height = '340px';
	elem.style.zIndex = 10000;
	elem.style.opacity = 1;
	elem.style.color = 'green';
	elem.style.backgroundColor = 'green';
	elem.style.border = '0px solid white';
	elem.style.textAlign = 'center';
	elem.id = 'myTimer';
	elem.style.display = 'block';
}());

function mole(x,y){
(function () {
	var elem = document.createElement('div');
	var body = document.getElementsByTagName('body')[0];
	body.appendChild(elem);

	elem.style.position = 'fixed';
	elem.style.top = ''+y+'px';
	elem.style.left = ''+x+'px';
	elem.style.margin = '10px';
	elem.style.paddingTop = '0px';
	elem.style.width = '40px';
	elem.style.height = '40px';
	elem.style.zIndex = 10000;
	elem.style.opacity = 1;
	elem.style.color = 'yellow';
	elem.style.backgroundColor = 'yellow';
	elem.style.border = '0px solid white';
	elem.style.textAlign = 'center';
	elem.style.cursor = 'pointer';
	elem.id = 'coin'+x+'';
	elem.style.display = 'block';
	document.getElementById('coin'+x+'').addEventListener('click', function() {
		points=points+1;
		timermax=timermax-2;
		var timer=timermax;
		if (timermax<3){
		    var timermax=2;
		}
		makecoin();
		elem.style.left='-99999999999999999999999999999999999px';
		score.innerText = 'score: '+points+'';
	});
	x=x+1;
}());
}

function makecoin(){
    var rx=Math.floor(Math.random()*(300-0+1)+0);
    var ry=Math.floor(Math.random()*(300-0+1)+0);
    mole(rx,ry);
}

function check(){
    
(function(){
var time = document.createElement('div');
	var body = document.getElementsByTagName('body')[0];
	body.appendChild(time);
        timer=timer-1;
	if (timer<0){
	    alert("game over. your score was "+points+".");
	    var timer=9999999;
	    clearInterval(check);
	    time.style.left='-99999999999999999999999999999999999999999999999999999px';
	    elem.style.left='-99999999999999999999999999999999999999999999999999999px';
	    score.style.left='-99999999999999999999999999999999999999999999999999999px';
	}
	time.style.position = 'fixed';
	time.style.top = '350px';
	time.style.left = '130px';
	time.style.margin = '10px';
	time.style.paddingTop = '0px';
	time.style.width = '120px';
	time.style.height = '30px';
	time.style.zIndex = 10000;
	time.style.opacity = 1;
	time.style.color = 'black';
	time.style.backgroundColor = 'white';
	time.style.border = '5px solid black';
	time.style.textAlign = 'center';
	time.id = 'time';
	time.style.display = 'block';
	time.innerText = 'timer: '+timer+'';
    }());
}

makecoin();
setInterval(check,1000);
